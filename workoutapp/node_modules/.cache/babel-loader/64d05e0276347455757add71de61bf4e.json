{"ast":null,"code":"let header = {};\nconst token = '';\nlet headerOptions = {\n  \"Content-Type\": \"application/json\",\n  token: window.localStorage.getItem(\"token\")\n};\nexport function updateHeaderOptions() {\n  console.log(\"updating token for API requests\"); //called on login\n\n  headerOptions = {\n    \"Content-Type\": \"application/json\",\n    token: window.localStorage.getItem(\"token\")\n  };\n}\nexport function setToken(token) {\n  header = {\n    'Content-Type': 'application/json',\n    'Authorization': `Bearer ${token}`\n  };\n} //get exercises\n\nexport async function getExercises() {\n  const result = await fetch(\"/api/exercises\", {\n    headers: headerOptions\n  });\n  const data = await result.json();\n  return data;\n} //get workouts\n\nexport async function getWorkouts() {\n  const result = await fetch(\"/api/workouts\", {\n    headers: headerOptions\n  });\n  const data = await result.json();\n  console.log(\"workout data api\", data);\n  return data;\n} //add workout\n\nexport async function addWorkout(workoutDetails) {\n  console.log('workout detail', workoutDetails);\n  const result = await fetch(\"/api/workouts/new\", {\n    method: \"POST\",\n    body: JSON.stringify(workoutDetails),\n    headers: headerOptions\n  });\n  const data = await result.json();\n  return data;\n} //add exercise to workout\n\nexport async function addExerciseToWorkout(exerciseDetails) {\n  const result = await fetch(\"/api/workouts/exercises/add\", {\n    method: \"POST\",\n    body: JSON.stringify(exerciseDetails),\n    headers: headerOptions\n  });\n  const data = await result.json();\n  return data;\n} //get individual workouts\n\nexport async function getWorkout(id) {\n  const result = await fetch(`/api/workouts/${id}`, {\n    headers: headerOptions\n  });\n  const data = await result.json();\n  console.log(\"workout data api\", data);\n  return data;\n} //bookmark workout\n\nexport async function bookmarkWorkout(workoutId) {\n  const result = await fetch(`/api/workouts/bookmark/${workoutId}/true`, {\n    method: \"PATCH\",\n    headers: headerOptions\n  });\n  const data = await result.json();\n  console.log(\"bookmark workout\", data);\n  return data;\n} //get bookmarked workouts\n\nexport async function savedWorkouts() {\n  const result = await fetch('/api/workouts/saved', {\n    headers: headerOptions\n  });\n  const data = await result.json();\n  console.log(\"bookmarked workouts\", data);\n  return data;\n} //add exercise\n\nexport async function addExercise(exerciseDetails) {\n  const result = await fetch(\"/api/exercises/new\", {\n    method: \"POST\",\n    body: JSON.stringify(exerciseDetails),\n    headers: headerOptions\n  });\n  const data = await result.json();\n  return data;\n} //get profile info\n\nexport async function getProfile() {\n  const result = await fetch(\"/api/user/profile\", {\n    headers: headerOptions\n  });\n  const data = await result.json();\n  console.log(\"user data api\", data);\n  return data;\n} //edit profile info\n\nexport async function updateProfile(profileDetails) {\n  console.log({\n    profileDetails\n  });\n  const result = await fetch(`/api/user/profile/update`, {\n    method: \"PATCH\",\n    headers: headerOptions,\n    body: JSON.stringify(profileDetails)\n  });\n  const data = await result.json();\n  console.log(\"user prof updated data api\", data);\n  return data;\n} //create user\n\nexport async function createAccount(userDetails) {\n  const result = await fetch(\"/api/user/new\", {\n    method: \"POST\",\n    body: JSON.stringify(userDetails),\n    headers: headerOptions\n  });\n\n  if (result.status > 299) {\n    return Promise.reject(\"Invalid\");\n  } else {\n    return Promise.resolve(\"New user\");\n  }\n} //log in\n\nexport async function login(userDetails) {\n  console.log(\"user deets\", userDetails);\n  const result = await fetch(\"/api/user/login\", {\n    method: \"POST\",\n    body: JSON.stringify(userDetails),\n    headers: headerOptions\n  });\n  console.log(result);\n\n  if (result.status > 299) {\n    return Promise.reject(\"invalid login\");\n  } // console.log(result)\n\n\n  console.log(result.headers.get(\"token\"));\n  return result.headers.get(\"token\");\n}","map":{"version":3,"sources":["/Users/KatieDeRosier/GA/codingProjects/Project_3_workout_app_react/workoutapp/src/api.js"],"names":["header","token","headerOptions","window","localStorage","getItem","updateHeaderOptions","console","log","setToken","getExercises","result","fetch","headers","data","json","getWorkouts","addWorkout","workoutDetails","method","body","JSON","stringify","addExerciseToWorkout","exerciseDetails","getWorkout","id","bookmarkWorkout","workoutId","savedWorkouts","addExercise","getProfile","updateProfile","profileDetails","createAccount","userDetails","status","Promise","reject","resolve","login","get"],"mappings":"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","sourcesContent":["let header = {};\nconst token = '';\n\nlet headerOptions = {\n  \"Content-Type\": \"application/json\",\n  token: window.localStorage.getItem(\"token\"),\n};\n\nexport function updateHeaderOptions() {\n  console.log(\"updating token for API requests\"); //called on login\n\n  headerOptions = {\n    \"Content-Type\": \"application/json\",\n    token: window.localStorage.getItem(\"token\"),\n  };\n}\n\nexport function setToken(token) {\n      header = {     \n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        }\n}\n\n//get exercises\nexport async function getExercises() {\n    const result = await fetch(\"/api/exercises\", {\n        headers: headerOptions,\n    });\n    const data = await result.json()\n\n    return data\n}\n\n//get workouts\nexport async function getWorkouts() {\n    const result = await fetch(\"/api/workouts\", {\n        headers: headerOptions,\n    });\n    const data = await result.json()\n    console.log(\"workout data api\", data)\n    return data\n}\n\n\n//add workout\nexport async function addWorkout(workoutDetails) {\n  console.log('workout detail', workoutDetails)\n    const result = await fetch(\"/api/workouts/new\", {\n      method: \"POST\",\n      body: JSON.stringify(workoutDetails),\n      headers: headerOptions,\n    });\n    const data = await result.json();\n  \n    return data;\n  }\n\n\n  //add exercise to workout\nexport async function addExerciseToWorkout(exerciseDetails) {\n    const result = await fetch(\"/api/workouts/exercises/add\", {\n      method: \"POST\",\n      body: JSON.stringify(exerciseDetails),\n      headers: headerOptions,\n    });\n    const data = await result.json();\n  \n    return data;\n  }\n\n//get individual workouts\nexport async function getWorkout(id) {\n    const result = await fetch(`/api/workouts/${id}`, {\n        headers: headerOptions,\n    });\n    const data = await result.json()\n    console.log(\"workout data api\", data)\n    return data\n}\n\n//bookmark workout\nexport async function bookmarkWorkout (workoutId){\n  const result = await fetch(`/api/workouts/bookmark/${workoutId}/true`, {\n    method: \"PATCH\",  \n    headers: headerOptions\n  });\n  const data = await result.json()\n  console.log(\"bookmark workout\", data)\n  return data\n}\n\n//get bookmarked workouts\nexport async function savedWorkouts (){\n  const result = await fetch('/api/workouts/saved', {\n    headers: headerOptions\n  });\n  const data = await result.json()\n  console.log(\"bookmarked workouts\", data)\n  return data\n}\n\n//add exercise\nexport async function addExercise(exerciseDetails) {\n    const result = await fetch(\"/api/exercises/new\", {\n      method: \"POST\",\n      body: JSON.stringify(exerciseDetails),\n      headers: headerOptions,\n    });\n    const data = await result.json();\n  \n    return data;\n  }\n\n//get profile info\nexport async function getProfile() {\n    const result = await fetch(\"/api/user/profile\", {\n        headers: headerOptions,\n    });\n    const data = await result.json()\n    console.log(\"user data api\", data)\n    return data\n}\n\n//edit profile info\nexport async function updateProfile(profileDetails) {\n  console.log({profileDetails})\n    const result = await fetch(`/api/user/profile/update`, {\n      method: \"PATCH\",  \n      headers: headerOptions,\n      body: JSON.stringify(profileDetails),\n    });\n    const data = await result.json()\n    console.log(\"user prof updated data api\", data)\n    return data\n}\n\n//create user\nexport async function createAccount(userDetails) {\n    const result = await fetch(\"/api/user/new\", {\n      method: \"POST\",\n      body: JSON.stringify(userDetails),\n      headers: headerOptions,\n    });\n    if (result.status > 299) {\n      return Promise.reject(\"Invalid\")\n    } else {\n      return Promise.resolve(\"New user\");\n    }\n  }\n\n\n//log in\nexport async function login(userDetails) {\n  console.log(\"user deets\", userDetails)\n    const result = await fetch(\"/api/user/login\", {\n      method: \"POST\",\n      body: JSON.stringify(userDetails),\n      headers: headerOptions,\n    });\n    console.log(result);\n\n    if (result.status > 299) {\n      return Promise.reject(\"invalid login\");\n    }\n    // console.log(result)\n    console.log(result.headers.get(\"token\"))\n    return result.headers.get(\"token\");\n  }"]},"metadata":{},"sourceType":"module"}